<h1>–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞: {{g.user.name}}</h1>

<p>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É</p>
<form method="POST">
    {{ addtaskform.hidden_tag() }}

    <br/><br/>
    {{ addtaskform.title.label }}  
    {{ addtaskform.title(size=32) }}
    <br/><br/>
    {{ addtaskform.description.label }}  
    {{ addtaskform.description(size=32) }}
    <br/><br/>
    {{ addtaskform.submit() }} 
</form>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <ul class="flashes">
      {% for category, message in messages %}
        <li class="alert alert-{{ 'success' if category == 'success' else 'danger' }}">
          {{ message }}
        </li>
      {% endfor %}
    </ul>
  {% endif %}
{% endwith %}


<p>–í—Ö–æ–¥—è—â–∏–µ –∑–∞–¥–∞—á–∏</p>
{% if tasks %}
  {% for task in tasks %}
    <li>
      <form action="{{ url_for('tasks.toggle_status_view', id=task.id) }}" method="post" style="display:inline;">
        <input type="checkbox" name="status" onchange="this.form.submit()" {% if task.completed %}checked{% endif %}>
      </form>
      {% if task.completed %}
        <s>{{ task.id }} | {{ task.title }} | {{ task.description }} | {{ task.data_add }}</s>
      {% else %}
        {{ task.id }} | {{ task.title }} | {{ task.description }} | {{ task.data_add }}
      {% endif %}
       | 
      <!-- –ö–Ω–æ–ø–∫–∏ -->
      <form action="{{ url_for('tasks.edit_tasks', id=task.id) }}" method="post" style="display:inline;">
        <button type="submit">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
      </form>
      |
      <form action="{{ url_for('tasks.delete_tasks', id=task.id) }}" method="post" style="display:inline;">
        <button type="submit" onclick="return confirm('–¢–æ—á–Ω–æ —É–¥–∞–ª–∏—Ç—å?')">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
      </form>
    </li>
  {% endfor %}
{% else %}
  <div>
    <p>–£ –≤–∞—Å –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–π –∑–∞–¥–∞—á–∏, –¥–æ–±–∞–≤—å—Ç–µ –µ–µ.</p>
  </div>
{% endif %}

